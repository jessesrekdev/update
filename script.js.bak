const toggleBtn = document.getElementById('toggleTheme');
const sun = document.querySelector('#themeIcon .sun');
const moon = document.querySelector('#themeIcon .moon');
const html = document.getElementById('html');
const footer = document.getElementById('footer');
footer.innerHTML = footerdata;

// Style all h1 elements as requested
document.querySelectorAll('h1').forEach(h1 => {
  h1.style.fontWeight = 'bold';
  h1.style.background = 'linear-gradient(to right, #4285F4, #9B72CB)';
  h1.style.webkitBackgroundClip = 'text';
  h1.style.backgroundClip = 'text';
  h1.style.webkitTextFillColor = 'transparent';
  h1.style.color = 'transparent';
  h1.style.fontSize = '2em';
});

let darkMode = false;

function applyTheme(isDark) {
  document.body.classList.toggle('dark-mode', isDark);

  if (isDark) {
    sun.style.opacity = '0';
    sun.style.transform = 'scale(0.7)';
    sun.classList.remove('pulse');

    moon.style.opacity = '1';
    moon.style.transform = 'scale(1)';
    moon.classList.add('pulse');
  } else {
    sun.style.opacity = '1';
    sun.style.transform = 'scale(1)';
    sun.classList.add('pulse');

    moon.style.opacity = '0';
    moon.style.transform = 'scale(0.7)';
    moon.classList.remove('pulse');
  }
}

// On DOM load, set theme from localStorage or system preference
window.addEventListener('DOMContentLoaded', () => {
  const storedTheme = localStorage.getItem('theme');
  darkMode = storedTheme ? storedTheme === 'dark' : window.matchMedia('(prefers-color-scheme: dark)').matches;
  applyTheme(darkMode);
});

// Toggle theme on button click
toggleBtn.addEventListener('click', () => {
  darkMode = !darkMode;
  localStorage.setItem('theme', darkMode ? 'dark' : 'light');
  applyTheme(darkMode);
});

// Open introduction folder on html element click
html.addEventListener('click', () => {
  window.open('html/introduction/', '_self');
});

// Code to copy and try - make sure `code` variable is defined globally somewhere with your code string
document.getElementById('copy-btn').addEventListener('click', () => {
  if (typeof code !== 'undefined') {
    navigator.clipboard.writeText(code).then(() => {
      console.log('Code copied to clipboard!');
    }).catch(err => console.error('Copy failed:', err));
  } else {
    console.error('No code available to copy');
  }
});

document.getElementById('try-btn').addEventListener('click', () => {
  if (typeof code !== 'undefined') {
    const url = 'https://codepen.io/pen/define?data=' +
      encodeURIComponent(JSON.stringify({
        title: "Simple HTML Document Example",
        html: code,
        js: "",
        css: ""
      }));
    window.open(url, '_blank');
  } else {
    console.error('No code available to try');
  }
});

  